"use strict";(globalThis["webpackChunkiotapp"]=globalThis["webpackChunkiotapp"]||[]).push([[430],{2430:(e,l,t)=>{t.r(l),t.d(l,{default:()=>q});var a=t(1758);function s(e,l,t,s,o,i){const r=(0,a.g2)("RegisterPage");return(0,a.uX)(),(0,a.Wv)(r)}var o=t(9104);const i={class:"q-gutter-md"},r={class:"q-gutter-md"};function u(e,l,t,s,u,n){const m=(0,a.g2)("q-input"),d=(0,a.g2)("q-icon"),c=(0,a.g2)("q-btn"),p=(0,a.g2)("q-form"),b=(0,a.g2)("q-card"),h=(0,a.g2)("q-page");return e.$q.platform.is.mobile?((0,a.uX)(),(0,a.Wv)(h,{key:0,class:"q-pa-md bg-dark"},{default:(0,a.k6)(()=>[l[12]||(l[12]=(0,a.Lk)("div",{class:"text-h5 text-white text-bold text-center"},[(0,a.eW)(" Sign up"),(0,a.Lk)("sup",{class:"text-primary"},"ðŸ”¥")],-1)),l[13]||(l[13]=(0,a.Lk)("div",{class:"text-subtitle2 text-grey-8 text-center",style:{"margin-bottom":"50px"}}," create your account to get started ",-1)),(0,a.bF)(b,{class:"bg-grey-10 q-pa-md"},{default:(0,a.k6)(()=>[(0,a.bF)(p,{onSubmit:(0,o.D$)(n.submitRegister,["prevent"]),ref:"formRef",class:"col"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",i,[(0,a.bF)(m,{outlined:"",dense:"",modelValue:u.form.name,"onUpdate:modelValue":l[0]||(l[0]=e=>u.form.name=e),label:"Full Name","label-color":"white",rules:[e=>!!e||"Name is required"],class:"white-outline","lazy-rules":"",autocomplete:"name","input-class":"text-white",color:"white"},null,8,["modelValue","rules"]),(0,a.bF)(m,{outlined:"",dense:"",modelValue:u.form.email,"onUpdate:modelValue":l[1]||(l[1]=e=>u.form.email=e),label:"Email","label-color":"white",type:"email",rules:[e=>!!e||"Email is required",e=>/.+@.+\..+/.test(e)||"Email must be valid"],class:"white-outline","lazy-rules":"",autocomplete:"email","input-class":"text-white",color:"white"},null,8,["modelValue","rules"]),(0,a.bF)(m,{outlined:"",dense:"",modelValue:u.form.username,"onUpdate:modelValue":l[2]||(l[2]=e=>u.form.username=e),label:"Username","label-color":"white",rules:[e=>!!e||"Username is required"],class:"white-outline","lazy-rules":"",autocomplete:"username","input-class":"text-white",color:"white"},null,8,["modelValue","rules"]),(0,a.bF)(m,{outlined:"",dense:"","outlined-color":"white",modelValue:u.form.phone,"onUpdate:modelValue":l[3]||(l[3]=e=>u.form.phone=e),label:"Phone Number","label-color":"white",rules:[e=>!!e||"Phone number is required"],class:"white-outline","lazy-rules":"",autocomplete:"tel","input-class":"text-white",color:"white"},null,8,["modelValue","rules"]),(0,a.bF)(m,{outlined:"",dense:"",modelValue:u.form.password,"onUpdate:modelValue":l[5]||(l[5]=e=>u.form.password=e),type:u.passwordVisible?"text":"password",label:"Password","label-color":"white",rules:[e=>!!e||"Password is required",e=>e.length>=6||"Password must be at least 6 characters"],"lazy-rules":"",autocomplete:"new-password","input-class":"text-white",class:"white-outline",color:"white"},{append:(0,a.k6)(()=>[(0,a.bF)(d,{name:u.passwordVisible?"visibility_off":"visibility",class:"cursor-pointer",color:"white",onClick:l[4]||(l[4]=e=>u.passwordVisible=!u.passwordVisible)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),(0,a.bF)(c,{label:"Register",type:"submit",color:"white",loading:u.loading,unelevated:"",class:"full-width button-cuy text-capitalize q-mt-md text-black"},null,8,["loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1,__:[12,13]})):((0,a.uX)(),(0,a.Wv)(h,{key:1,class:"q-pa-md bg-dark flex flex-center"},{default:(0,a.k6)(()=>[(0,a.bF)(b,{class:"bg-grey-10 q-pa-md",style:{"max-width":"400px",width:"100%"}},{default:(0,a.k6)(()=>[l[14]||(l[14]=(0,a.Lk)("div",{class:"text-h5 text-white text-bold text-center"},[(0,a.eW)(" Sign up"),(0,a.Lk)("sup",{class:"text-primary"},"ðŸ”¥")],-1)),l[15]||(l[15]=(0,a.Lk)("div",{class:"text-subtitle2 text-grey-8 text-center",style:{"margin-bottom":"50px"}}," create your account to get started ",-1)),(0,a.bF)(p,{onSubmit:(0,o.D$)(n.submitRegister,["prevent"]),ref:"formRef",class:"col"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",r,[(0,a.bF)(m,{outlined:"",dense:"",modelValue:u.form.name,"onUpdate:modelValue":l[6]||(l[6]=e=>u.form.name=e),label:"Full Name","label-color":"white",rules:[e=>!!e||"Name is required"],class:"white-outline","lazy-rules":"",autocomplete:"name","input-class":"text-white",color:"white"},null,8,["modelValue","rules"]),(0,a.bF)(m,{outlined:"",dense:"",modelValue:u.form.email,"onUpdate:modelValue":l[7]||(l[7]=e=>u.form.email=e),label:"Email","label-color":"white",type:"email",rules:[e=>!!e||"Email is required",e=>/.+@.+\..+/.test(e)||"Email must be valid"],class:"white-outline","lazy-rules":"",autocomplete:"email","input-class":"text-white",color:"white"},null,8,["modelValue","rules"]),(0,a.bF)(m,{outlined:"",dense:"",modelValue:u.form.username,"onUpdate:modelValue":l[8]||(l[8]=e=>u.form.username=e),label:"Username","label-color":"white",rules:[e=>!!e||"Username is required"],class:"white-outline","lazy-rules":"",autocomplete:"username","input-class":"text-white",color:"white"},null,8,["modelValue","rules"]),(0,a.bF)(m,{outlined:"",dense:"","outlined-color":"white",modelValue:u.form.phone,"onUpdate:modelValue":l[9]||(l[9]=e=>u.form.phone=e),label:"Phone Number","label-color":"white",rules:[e=>!!e||"Phone number is required"],class:"white-outline","lazy-rules":"",autocomplete:"tel","input-class":"text-white",color:"white"},null,8,["modelValue","rules"]),(0,a.bF)(m,{outlined:"",dense:"",modelValue:u.form.password,"onUpdate:modelValue":l[11]||(l[11]=e=>u.form.password=e),type:u.passwordVisible?"text":"password",label:"Password","label-color":"white",rules:[e=>!!e||"Password is required",e=>e.length>=6||"Password must be at least 6 characters"],"lazy-rules":"",autocomplete:"new-password","input-class":"text-white",class:"white-outline",color:"white"},{append:(0,a.k6)(()=>[(0,a.bF)(d,{name:u.passwordVisible?"visibility_off":"visibility",class:"cursor-pointer",color:"white",onClick:l[10]||(l[10]=e=>u.passwordVisible=!u.passwordVisible)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),(0,a.bF)(c,{label:"Register",type:"submit",color:"white",loading:u.loading,unelevated:"",class:"full-width button-cuy text-capitalize q-mt-md text-black"},null,8,["loading"])]),_:1},8,["onSubmit"])]),_:1,__:[14,15]})]),_:1}))}const n={name:"RegisterPage",data(){return{form:{name:"",email:"",username:"",phone:"",password:"",role:"user"},passwordVisible:!1,loading:!1}},methods:{resetField(){this.form={name:"",email:"",username:"",phone:"",password:""}},async submitRegister(){try{this.loading=!0,await this.$api.post("users/register",this.form),this.$q.notify({type:"positive",message:"Data pengguna berhasil ditambahkan!",position:"top-center"}),this.resetField(),this.$refs.formRef&&this.$refs.formRef.resetValidation(),this.$router.push("/login-user")}catch(e){console.error("Gagal membuat pengguna:",e.response?.data||e.message),this.$q.notify({type:"negative",message:"Gagal membuat pengguna. "+(e.response?.data?.message||""),position:"top-right"})}finally{this.loading=!1}}}};var m=t(2807),d=t(7716),c=t(3316),p=t(9200),b=t(9270),h=t(492),w=t(1693),g=t(8582),f=t.n(g);const y=(0,m.A)(n,[["render",u]]),V=y;f()(n,"components",{QPage:d.A,QCard:c.A,QForm:p.A,QInput:b.A,QIcon:h.A,QBtn:w.A});const x={name:"IndexPage",components:{RegisterPage:V}},k=(0,m.A)(x,[["render",s]]),q=k}}]);